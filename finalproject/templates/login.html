{% extends "layout.html" %}

{% block title %}
    Weather
{% endblock %}

{% block top %}
    <h1 class="display-3 text-light">Login</h1>
        <p>Please enter your username and password.</p>
{% endblock %}

{% block main %}
    <div class="row justify-content-center">
        <div class="col-md-4">
            <form action="/login" method="post">
              <div class="form-group">
                <label for="Username">Username</label>
                <input id= "username" input autocomplete="off" autofocus class="form-control" name="username" placeholder="Username" type="text">
              </div>
              <div class="form-group">
                <label for="Password">Password</label>
                <input id= 'password' input class="form-control" name="password" placeholder="Password" type="password">
                <small id="errorFound" class="form-text text-danger">Username or password incorrect</small>
              </div>
              <input id="submit" button class="btn btn-primary" type="submit" disabled></button>
            </form>
        </div>
    </div>

    <script>
    // password check
        document.querySelector('#password').onkeyup = function() {
              if (document.querySelector('#username').value != '' && document.querySelector('#password').value != '') {
                  document.querySelector('#submit').disabled = false;
              } else {
                  document.querySelector('#submit').disabled = true;
              }
          }

    //error message if username already taken
        var error = '{{ error }}'
        if (error == 'errorFound') {
          document.getElementById("errorFound").style.display = "block";
          } else {
            document.getElementById("errorFound").style.display = "none";
          }
  </script>

{% endblock %}